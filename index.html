<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weiterleitung zum Rezept...</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let path = window.location.pathname;
            let recipeID = path.split("/").pop();

            if (!recipeID || recipeID === "index.html") {
                console.error("‚ùå Fehler: Rezept-ID nicht gefunden!");
                return;
            }

            // Deep-Link Schema
            let deepLink = `rezeptefuchs://recipe/${recipeID}`;
            console.log(`üîó Versuche, Deep-Link zu √∂ffnen: ${deepLink}`);

            // Versuche den Deep-Link zu √∂ffnen
            window.location.href = deepLink;

            // Falls die App nicht installiert ist, zeige nach 2 Sekunden den Fallback-Link
            setTimeout(() => {
                console.warn("‚ö†Ô∏è Deep-Link konnte nicht ge√∂ffnet werden, zeige Fallback.");
                document.getElementById("fallback").style.display = "block";
                document.getElementById("fallback-link").href = deepLink;
            }, 2000);
        });
    </script>
</head>
<body>
    <h1>Weiterleitung zum Rezept...</h1>
    <p>Falls du nicht weitergeleitet wirst, <a id="fallback-link" href="#">klicke hier</a>.</p>
    <div id="fallback" style="display:none;">
        <p>Die App scheint nicht installiert zu sein. Lade sie hier herunter:</p>
        <a href="https://apps.apple.com/de/app/rezeptefuchs/id123456789">App im App Store</a>
    </div>
</body>
</html>
